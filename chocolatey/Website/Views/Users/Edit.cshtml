@model EditProfileViewModel
@{
    ViewBag.Title = "Edit Profile";
    Bundles.Reference("Content/dist/chocolatey.slim.css");
    Bundles.Reference("Content/account.css");
    Bundles.Reference("Scripts");
    Bundles.Reference("Scripts/validation");
    Bundles.Reference("Scripts/CookiesNotice");
}

<section id="account" class="container py-3 py-lg-5 edit-profile">
    <div class="row">
        <div class="col-xl-10 m-auto">
            @Html.ValidationSummary(true)
            @using (Html.BeginForm())
            {
                @Html.AntiForgeryToken()
                <div class="col-lg-6 p-0 p-lg-3">
                    <fieldset class="form">
                        <legend class="d-none">Edit Profile</legend>
                        <h1 class="text-center">Edit Profile</h1>
                        @if (!String.IsNullOrEmpty(Model.PendingNewEmailAddress))
                        {
                            <div class="callout-warning">
                                You recently requested to change your email address to <strong>@Model.PendingNewEmailAddress</strong>.
                                This change will take effect when you confirm the address. Check your inbox (or spam folder) for an
                                email with a confirmation link.
                            </div>
                        }
                        <hr />
                        <div class="form-field">
                            <i class="icon-question-circle" alt="Save" data-toggle="tooltip" data-placement="top" title="If you change your email address, you will need to confirm your new address for it to take effect."></i>
                            @Html.LabelFor(m => m.EmailAddress)
                            @Html.EditorFor(m => m.EmailAddress)
                            @Html.ValidationMessageFor(m => m.EmailAddress)
                        </div>
                        <div class="form-field my-3">
                            <label for="EmailAllowed" class="checkbox">
                                @Html.EditorFor(m => m.EmailAllowed)
                                Receive Email Notifications
                                <span class="checkmark"></span>
                            </label>
                            <div class="callout-danger">
                                <strong>Important:</strong> This setting allows users of the site to contact you
                                about packages that you own using the <em>Contact Maintainers</em> form, or to request that you become a maintainer
                                of their package. Unchecking this means users cannot contact you for these reasons. <strong>
                                    You will still receive moderation related email and/or email from site administrators.
                                </strong> Unchecking the box also does not unsubscribe you from the newsletter. You will need to manage that from your MailChimp subscription.  
                            </div>
                        </div>
                        <hr class="my-5" />
                        <div class="form-field">
                            <label for="EmailAllModerationNotifications" class="checkbox mb-1">
                                @Html.EditorFor(m => m.EmailAllModerationNotifications)
                                Send All Moderation Related Messages
                                <span class="checkmark"></span>
                            </label>
                            <p>When packages go through moderation review, should the system send all messages or just warnings and failures?</p>
                        </div>
                    </fieldset>
                </div>
                <div class="col-lg-6 p-0 p-lg-3 border-left">
                    <fieldset class="form">
                        <div class="form-field">
                            <i class="icon-question-circle" alt="Save" data-toggle="tooltip" data-placement="top" title="The full Url to your packages repository (this is where you keep what builds the packages). Also put your automatic packages into this repository (the packages that use Chocolatey Package Updater to build and push automatically)."></i>
                            @Html.LabelFor(m => m.PackagesRepository)
                            @Html.EditorFor(m => m.PackagesRepository)
                            @Html.ValidationMessageFor(m => m.PackagesRepository)
                        </div>

                        <div class="form-field">
                            <i class="icon-question-circle" alt="Save" data-toggle="tooltip" data-placement="top" title="Deprecated field, leave this empty. It is recommended to include your automatic packages into the repository you specified above. No need for an additional separate repository."></i>
                            @Html.LabelFor(m => m.PackagesRepositoryAuto)
                            @Html.EditorFor(m => m.PackagesRepositoryAuto)
                            @Html.ValidationMessageFor(m => m.PackagesRepositoryAuto)
                        </div>
                        <div class="form-field">
                            <i class="icon-question-circle" alt="Save" data-toggle="tooltip" data-placement="top" title="Your twitter handle"></i>
                            @Html.LabelFor(m => m.TwitterUserName)
                            @Html.EditorFor(m => m.TwitterUserName)
                            @Html.ValidationMessageFor(m => m.TwitterUserName)
                        </div>
                        <div class="form-field">
                            <i class="icon-question-circle" alt="Save" data-toggle="tooltip" data-placement="top" title="Your github username"></i>
                            @Html.LabelFor(m => m.GithubUserName)
                            @Html.EditorFor(m => m.GithubUserName)
                            @Html.ValidationMessageFor(m => m.GithubUserName)
                        </div>
                        <div class="form-field">
                            <i class="icon-question-circle" alt="Save" data-toggle="tooltip" data-placement="top" title="Your codeplex username"></i>
                            @Html.LabelFor(m => m.CodeplexUserName)
                            @Html.EditorFor(m => m.CodeplexUserName)
                            @Html.ValidationMessageFor(m => m.CodeplexUserName)
                        </div>
                        <div class="form-field">
                            <i class="icon-question-circle" alt="Save" data-toggle="tooltip" data-placement="top" title="The full Url to your stack exchange profile. This is not the same as stackoverflow."></i>
                            @Html.LabelFor(m => m.StackExchangeUrl)
                            @Html.EditorFor(m => m.StackExchangeUrl)
                            @Html.ValidationMessageFor(m => m.StackExchangeUrl)
                        </div>
                        <div class="form-field">
                            <i class="icon-question-circle" alt="Save" data-toggle="tooltip" data-placement="top" title="The full Url to your homepage"></i>
                            @Html.LabelFor(m => m.HomepageUrl)
                            @Html.EditorFor(m => m.HomepageUrl)
                            @Html.ValidationMessageFor(m => m.HomepageUrl)
                        </div>
                        <div class="form-field">
                            <i class="icon-question-circle" alt="Save" data-toggle="tooltip" data-placement="top" title="The full Url to your blog"></i>
                            @Html.LabelFor(m => m.BlogUrl)
                            @Html.EditorFor(m => m.BlogUrl)
                            @Html.ValidationMessageFor(m => m.BlogUrl)
                        </div>
                    </fieldset>
                </div>
                <div class="col-12">
                    <fieldset class="form">
                        <input class="btn btn-primary mx-auto mt-3 d-block" type="submit" value="Save All Changes" title="Save Changes" />
                        <p class="mt-1 mb-3 text-center"><small><a class="cancel" href="@Url.Action("Account")" title="Cancel Changes and go back.">Cancel</a></small></p>
                    </fieldset>
                </div>
            }
        </div>
    </div>
</section>